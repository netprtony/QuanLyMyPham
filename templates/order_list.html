{% extends "layout.html" %}
{% block title %}Danh Sách Đơn Hàng{% endblock %}

{% block content %}
<div class="management">
    <div class="header">
        <h2>Danh Sách Đơn Hàng</h2>
    </div>

    <div class="actions">
        <a  href="/add-order" class="btn btn-primary">Thêm Đơn Hàng</a>
    </div>

    <div class="list">
        <form method="GET" action="/order-list">
            <div class="form-row">
                <label for="start_date">Ngày bắt đầu:</label>
                <input type="date" id="start_date" name="start_date" value="{{ start_date.strftime('%Y-%m-%d') if start_date else '' }}">

                <label for="end_date">Ngày kết thúc:</label>
                <input type="date" id="end_date" name="end_date" value="{{ end_date.strftime('%Y-%m-%d') if end_date else '' }}">

                <label for="customer_id">Mã Khách Hàng:</label>
                <input type="text" id="customer_id" name="customer_id">

                <label for="total_price">Tổng Giá:</label>
                <select name="total_price" id="total_price">
                    <option value="">Tất cả</option>
                    <option value="0">Lớn hơn 0</option>
                    <option value="500000">Lớn hơn 500000</option>
                    <option value="1000000">Lớn hơn 1000000</option>
                    <option value="2000000">Lớn hơn 2000000</option>
                </select>

                <label for="status">Trạng Thái:</label>
                <select name="status" id="status">
                    <option value="" selected>Tất cả</option>
                    <option value="Delivered">Delivered</option>
                    <option value="Shipped">Shipped</option>
                    <option value="Processing">Processing</option>
                    <option value="Pending" >Pending</option>
                </select>

                <button type="submit" class="btn btn-primary btn-query">Truy vấn</button>
            </div>
        </form>

        <table class="table">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>Mã Đơn Hàng</th>
                    <th>Khách Hàng</th>
                    <th>Tổng Giá</th>
                    <th>Ngày Đặt</th>
                    <th>Trạng Thái</th>
                </tr>
            </thead>
            <tbody>
                {% for order in orders %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td class="textbox-id" onclick="window.location.href='/order-detail/{{ order['order_id'] }}'">
                        {{ order['order_id'] }}
                    </td>
                    <td>{{ order['customer_id'] }}</td>
                    <td>{{ order['total_price'] }}</td>
                    <td>{{ order['order_date'] }}</td>
                    <td>{{ order['status'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
